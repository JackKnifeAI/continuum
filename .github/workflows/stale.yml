name: Stale Issues & PRs

on:
  schedule:
    - cron: '0 0 * * *'  # Daily at midnight
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}

          # Issue configuration
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs within 7 days.

            If this is still relevant, please leave a comment to keep it open.

            Thank you for your contributions! üôè
          close-issue-message: |
            This issue was automatically closed due to inactivity.

            If you believe this should remain open, please reopen and provide an update.
          stale-issue-label: 'stale'
          exempt-issue-labels: 'pinned,security,critical,roadmap'
          days-before-issue-stale: 60
          days-before-issue-close: 7

          # PR configuration
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs within 14 days.

            Please review and update if you'd like to continue with this PR.

            Thank you for your contribution! üôè
          close-pr-message: |
            This pull request was automatically closed due to inactivity.

            Feel free to reopen if you'd like to continue working on it.
          stale-pr-label: 'stale'
          exempt-pr-labels: 'pinned,security,critical,wip'
          days-before-pr-stale: 30
          days-before-pr-close: 14

          # General configuration
          operations-per-run: 100
          remove-stale-when-updated: true
          ascending: false
